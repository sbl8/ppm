{{/* Podcast Player component with tabs for different platforms */}}

<div class="podcast-player" id="podcast-player">
    <div class="podcast-player__tabs" role="tablist" aria-label="Podcast platforms">
        <button id="tab-spotify" class="podcast-player__tab active" role="tab" aria-selected="true" aria-controls="panel-spotify">
            <svg class="podcast-player__tab-icon" aria-hidden="true">
                <use href="{{ .Site.BaseURL }}images/icons/spotify.svg#spotify"></use>
            </svg>
            <span>Spotify</span>
        </button>
        <button id="tab-apple" class="podcast-player__tab" role="tab" aria-selected="false" aria-controls="panel-apple">
            <svg class="podcast-player__tab-icon" aria-hidden="true">
                <use href="{{ .Site.BaseURL }}images/icons/apple.svg#apple"></use>
            </svg>
            <span>Apple</span>
        </button>
        <button id="tab-youtube" class="podcast-player__tab" role="tab" aria-selected="false" aria-controls="panel-youtube">
            <svg class="podcast-player__tab-icon" aria-hidden="true">
                <use href="{{ .Site.BaseURL }}images/icons/youtube.svg#youtube"></use>
            </svg>
            <span>YouTube</span>
        </button>
        <button id="tab-rss" class="podcast-player__tab" role="tab" aria-selected="false" aria-controls="panel-rss">
            <svg class="podcast-player__tab-icon" aria-hidden="true">
                <use href="{{ .Site.BaseURL }}images/icons/rss.svg#rss"></use>
            </svg>
            <span>RSS</span>
        </button>
    </div>

    <div class="podcast-player__panels">
        <div id="panel-spotify" class="podcast-player__panel active" role="tabpanel" aria-labelledby="tab-spotify">
            {{ if .Site.Params.spotify_id }}
            <iframe class="podcast-player__embed" style="border-radius:12px" src="https://open.spotify.com/embed/show/{{ .Site.Params.spotify_id }}?utm_source=generator&theme=0" width="100%" height="352" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
            {{ else }}
            <div class="podcast-player__placeholder">
                <p>Spotify embedding is not configured. Please add your Spotify show ID in the site parameters.</p>
            </div>
            {{ end }}
        </div>

        <div id="panel-apple" class="podcast-player__panel" role="tabpanel" aria-labelledby="tab-apple" hidden>
            {{ if .Site.Params.apple_id }}
            <iframe class="podcast-player__embed" height="450" width="100%" title="Media player" src="https://embed.podcasts.apple.com/us/podcast/parapower-mapping/id{{ .Site.Params.apple_id }}?itscg=30200&amp;itsct=podcast_box_player&amp;ls=1&amp;theme=dark" id="embedPlayer" style="border: 0px; border-radius: 12px; width: 100%; height: 450px; max-width: 100%;" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation-by-user-activation" allow="autoplay; encrypted-media; clipboard-write"></iframe>
            {{ else }}
            <div class="podcast-player__placeholder">
                <p>Apple Podcasts embedding is not configured. Please add your Apple podcast ID in the site parameters.</p>
            </div>
            {{ end }}
        </div>

        <div id="panel-youtube" class="podcast-player__panel" role="tabpanel" aria-labelledby="tab-youtube" hidden>
            {{ if .Site.Params.youtube_playlist_id }}
            <iframe class="podcast-player__embed" src="https://www.youtube.com/embed/videoseries?list={{ .Site.Params.youtube_playlist_id }}" width="100%" height="450" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
            {{ else }}
            <div class="podcast-player__placeholder">
                <p>YouTube embedding is not configured. Please add your YouTube playlist ID in the site parameters.</p>
            </div>
            {{ end }}
        </div>

        <div id="panel-rss" class="podcast-player__panel" role="tabpanel" aria-labelledby="tab-rss" hidden>
            {{ if .Site.Params.rss }}
            <div class="podcast-rss-content">
                <h3>Subscribe via RSS</h3>
                <p>Add this URL to your podcast app to subscribe:</p>
                <div class="podcast-rss-link">
                    <input type="text" id="podcast-rss-url" readonly value="{{ .Site.Params.rss }}" onclick="this.select()" aria-label="Podcast RSS Feed URL" />
                    <button id="btn-copy-rss" class="btn-copy" aria-label="Copy RSS URL to clipboard">Copy</button>
                </div>
                <p class="podcast-rss-note">
                    <small>Podcast RSS feeds work with apps like Apple Podcasts, Pocket Casts, Overcast, and more.</small>
                </p>
            </div>
            {{ else }}
            <div class="podcast-player__placeholder">
                <p>RSS feed URL is not configured. Please add your podcast RSS feed URL in the site parameters.</p>
            </div>
            {{ end }}
        </div>
    </div>
</div>